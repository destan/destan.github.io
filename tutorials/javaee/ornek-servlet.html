<!DOCTYPE html><html lang="tr"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Örnek Servlet | Servlet Tutorial</title><meta name="viewport" content="width=device-width"><meta name="description" content="Bu yazıda Eclipse üzerinde bir servlet projesi oluşturmayı ve örnek bir servlet yazmayı işledik. Eclipse üzerinde Tomcat 8 kurmayı, Eclipse üzerinden sunucuya projeyi deploy etmeyi ve çalıştırmayı gösterdik."><meta http-equiv="Content-Language" content="tr"><link rel="canonical" href="http://www.dorukdestan.com/tutorials/javaee/ornek-servlet.html"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?1=18"><link rel="stylesheet" href="http://www.dorukdestan.com/assets/application-dba82b3c085de425004ce7a39e2d9dca.css"><link rel="stylesheet" href="http://www.dorukdestan.com/assets/tutorial-1b3d0c7c94297bfb8ec54f7d141335e9.css"> <script>var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-29182671-1"]),_gaq.push(["_setDomainName","dorukdestan.com"]),_gaq.push(["_trackPageview"]),function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script></head><body><div id="footerPusher"><header class="container"><div id="siteOwner" itemprop="author" itemscope itemtype="http://schema.org/Person"> <a href="/" itemprop="name">Destan Sarpkaya</a> <span class="slogan">of life, production and consumption</span><meta itemprop="additionalName" content="dorukdestan"/></div><nav class="navbar navbar-default hidden-xs" role="navigation"><div class=""><div class="navbar-header"> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=""> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button></div><div class="collapse navbar-collapse" id="theMenu"><ul class="nav navbar-nav"><li class="home"> <a href="/">About</a></li><li class="blog"> <a href="/blog/">Blog</a></li><li class="tutorials active"> <a href="/tutorials/">Tutorials</a></li><li class="talks"> <a href="/talks/">Talks</a></li><li class="projects"> <a href="/projects/">Projects</a></li></ul><ul class="nav navbar-nav social-icons"><li><a href="https://twitter.com/dorukdestan" rel="nofollow" target="_blank"><i class="social-icons icon-twitter"></i></a></li><li><a href="https://github.com/destan" rel="nofollow" target="_blank"><i class="social-icons icon-github"></i></a></li><li><a href="http://www.linkedin.com/in/dorukdestan" rel="nofollow" target="_blank"><i class="social-icons icon-linkedin"></i></a></li><li><a href="https://plus.google.com/+DestanSarpkaya" rel="nofollow" target="_blank"><i class="social-icons icon-gplus"></i></a></li></ul></div></div> </nav><div id="mobileMenuTrigger" class="visible-xs"> <i class="icon-menu"></i></div><nav id="touchMenu" class="kg-touch-menu"><ul><li><a href="/">About</a></li><li><a href="/blog/">Blog</a></li><li><a href="/talks/">Talks</a></li><li id="projectsMobileMenu"> <a href="/projects/">Projects</a><ul><li><a href="/projects#cevirgec">Çevirgeç</a></li><li><a href="/projects#search-for-all">Search For All</a></li><li><a href="/projects#search-for-all">Mobile Menu</a></li><li><a href="/projects">All Projects</a></li></ul></li><li><a href="https://plus.google.com/+DestanSarpkaya" rel="nofollow" target="_blank"><i class="icon-gplus"></i></a></li><li><a href="https://github.com/destan" rel="nofollow" target="_blank"><i class="icon-github"></i></a></li><li><a href="http://www.linkedin.com/in/dorukdestan" rel="nofollow" target="_blank"><i class="icon-linkedin"></i></a></li><li><a href="https://twitter.com/dorukdestan" rel="nofollow" target="_blank"><i class="icon-twitter"></i></a></li></ul> <button class="kg-close">↶ <span class="kg-back-text">Back</span></button> </nav><div id="quoteContainer"></div></header><main class="container"><section id="metabox" class="well"><div class="row"><div class="col-xs-6"><div><div class="level-indicator" level="2" title="Başlangıç düzeyi"><div></div><div></div><div></div><div></div><div></div></div> Başlangıç düzeyi <a href="#" data-toggle="modal" data-target="#levelDesc">(?)</a></div><div><i class="icon-section"></i> <span class="">Bölüm: </span>Java EE</div><div><i class="icon-clock"></i> <span class="">Okuma süresi: </span>20min</div><div><i class="icon-cc-by"></i> <span class="">Yazar: </span>Destan Sarpkaya</div></div><div class="col-xs-6"><div><i class="icon-calendar"></i> <span class="">Oluşturulma: </span>2014-09-03</div><div><i class="icon-calendar"><sub style="margin-left:-4px">2</sub></i> <span class="">Son güncellenme: </span>2014-09-03</div><div><i class="icon-revision"></i> <span class="">Sürüm: </span>v1</div><div> <i class="icon-cc"></i> Lisans: <a rel="license" title="Creative Commons License Attribution-ShareAlike 4.0 International" href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank"><img alt="Creative Commons License Attribution-ShareAlike 4.0 International" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/4.0/80x15.png"/></a></div></div></div> </section> <article itemscope itemtype="http://schema.org/Article"><h1 itemprop="name">Örnek Servlet | Servlet Tutorial</h1> <section itemprop="articleBody"><p>Bu yazının sonunda sunucuda çalışan bir Java uygulamamız olacak. Biz tarayıcımıza bu uygulamanın URLsini yazınca, uygulama bir HTML sayfası üretecek ve tarayıcıya gönderecek. Böylelikle siz de üretilen HTML sayfasını görmüş olacaksınız.</p><p>Yazının sonunda Java Servlet teknolojisiyle ilgili genel bir bilgi sahibi olacak ve servletler ile basit web sayfaları yaratmaya başlayabileceksiniz.</p><nav class="well"> <header>İçindekiler</header><ol><li><a href="#Başlamadan önce">Başlamadan önce</a><ol><li><a href="#Tomcat 8 kurulumu">Tomcat 8 kurulumu</a></li><li><a href="#Eclipse Kurulumu">Eclipse Kurulumu</a><ol><li><a href="#Eclipse indirme">Eclipse indirme</a></li><li><a href="#Eclipse Zaten Kuruluysa">Eclipse Zaten Kuruluysa</a></li></ol></li><li><a href="#Eclipse'e sunucu ekleme">Eclipse’e sunucu (Tomcat 8) ekleme</a></li></ol></li><li><a href="#Bir Servlet Uygulaması Örneği">Bir Servlet Uygulaması Örneği</a><ol><li><a href="#Eclipse'te Web Projesi Oluşturma">Eclipse’te Web Projesi Oluşturma</a></li><li><a href="#Eclipse'te Paket Oluşturma">Eclipse’te Paket Oluşturma</a></li><li><a href="#Servlet Sınıfı Yazımı">Servlet Sınıfı Yazımı</a></li><li><a href="#Sunucuya Servleti Tanıtma Yolu: web.xml veya Anotasyon">Sunucuya Servleti Tanıtma Yolu: <code>web.xml</code> veya Anotasyon</a><ol><li><a href="#web.xml Kullanımı">web.xml Kullanımı</a></li><li><a href="#Anotasyon Kullanımı">Anotasyon Kullanımı</a></li></ol></li><li><a href="#Projenin Son Görünümü">Projenin Son Görünümü</a></li></ol></li><li><a href="#Uygulamayı Çalıştırma">Uygulamayı Çalıştırma</a><ol><li><a href="#Merhaba Dünya">Merhaba Dünya</a></li></ol></li><li><a href="#Neler Oldu? Yapılanların İncelemesi">Neler Oldu? Yapılanların İncelemesi</a></li><li><a href="#kaynak-kodlar-ndirin">Kaynak Kodları İndirin</a></li></ol></nav><h2 id="Başlamadan önce">Başlamadan önce</h2><p>Eğer henüz <a href="/tutorials/javaee/servlet-nedir.html">Servlet nedir?</a> sunumunu okumadıysanız, bu örneğe başlamadan önce okumanızı kesinlikle tavsiye ederim.</p><p><a href="/tutorials/javaee/servlet-nedir.html">Servlet nedir?</a> sunumunda belirtildiği gibi, yazacağımız <code>servlet</code>lerin çalıştırılabilmesi için bir <code>servlet container</code>a gereksinimimiz olacak. Servlet container olarak Tomcat 8 kullanacağız.</p><h3 id="Tomcat 8 kurulumu">Tomcat 8 kurulumu</h3><p>Tomcat 8’i <a href="http://tomcat.apache.org/download-80.cgi" target="_blank" rel="nofollow">bu adresten</a> indirebilirsiniz.</p><figure> <img src="/tutorials/javaee/img/ornekServlet/tomcatDownloadLink.png" alt="Tomcat 8 indirme bağlantısı" title="Tomcat 8 indirme bağlantısı"/> <figcaption>.tar.gz uzantili dosyayi tercih edin. Windows kullananıyorsanız .zip tercih edin. </figcaption> </figure><h3 id="Eclipse Kurulumu">Eclipse Kurulumu</h3><p>Eclipse’i işletim sisteminizin paket yöneticisinden indirebilirsiniz. Ancak paket yöneticisinden yükleyeceğiniz Eclipse’in sürümü oldukça eski olacaktır. O nedenle <a href="#Eclipse indirme">bir sonraki</a> adıma geçerek kendinizin indirmesini öneririm.</p><p>Yine de paket yöneticisi kullanmak isteyenler için Ubuntu’da örnek:</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>sudo apt-get install eclipse-wtp</code></pre></div><section class="hint" title="ipucu"> Paket yöneticisiyle indireceğiniz Eclipse'in sürümünü kurulumdan önce denetlemek için aşağıdaki komutu kullanabilirsiniz. </section><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>apt-cache policy eclipse-wtp
eclipse-wtp:
  Installed: <span class="o">(</span>none<span class="o">)</span>
  Candidate: 3.5.2-1
  Version table:
     3.5.2-1 0
        <span class="m">500</span> http://archive.ubuntu.com/ubuntu/ trusty/universe amd64 Packages</code></pre></div><h4 id="Eclipse indirme">Eclipse indirme</h4><p><a href="https://www.eclipse.org/downloads/" target="_blank" rel="nofollow">Şu adresten</a> <em>“Eclipse IDE for Java EE Developers”</em> bağlantısındaki Eclipse’i indirip sıkıştırılmış dosyayı bir klasöre çıkarın. Başka bir şey yapmanıza gerek kalmadan <code>eclipse</code> dosyasına çift tıklayarak Eclipse’i kullanabilirsiniz.</p><h4 id="Eclipse Zaten Kuruluysa">Eclipse Zaten Kuruluysa</h4><p>Kullandığınız Eclipse sürümünün web geliştirmeye uygun sürüm olması gerekiyor. Bunu Eclipse’te <code>Help -&gt; About Eclipse</code> menüsünden denetleyebilirsiniz.</p><figure> <img src="/tutorials/javaee/img/ornekServlet/eclipseAbout.png" alt="Tomcat 8 indirme bağlantısı" title="Tomcat 8 indirme bağlantısı"/> <figcaption>"for web developers" ifadesi olmalı</figcaption> </figure><p><br/></p><p>Eğer sizin Eclipse’iniz böyle değilse:</p><ol><li><a href="#Eclipse indirme">Bir önceki adımdan</a> Eclipse’i indirebilirsiniz.</li><li>Eclipse WTP eklentisini kurabilirsiniz.</li></ol><h3 id="Eclipse'e sunucu ekleme">Eclipse'e sunucu (Tomcat 8) ekleme</h3><figure> <img src="/tutorials/javaee/img/ornekServlet/yeniSunucuContextMenu.png" alt="Eclipse'te yeni sunucu ekleme - Sağ tıklayarak açılan menü" title="Sağ tıklayarak açılan menü"/> <figcaption>Sağ tıklayarak açılan menüden 'New -&gt; Other ...' seçeneğinini seçiyoruz</figcaption> </figure><p><br/></p><figure> <img src="/tutorials/javaee/img/ornekServlet/yeniSunucuContextMenu2.png" alt="Eclipse'te yeni sunucu ekleme - Server seçeneğinini seçiyoruz" title="Server seçeneğinini seçiyoruz"/> <figcaption>Bu menüden 'Server' seçeneğinini seçiyoruz</figcaption> </figure><p><br/></p><figure> <img src="/tutorials/javaee/img/ornekServlet/tomcat8-sec.png" alt="Eclipse'te yeni sunucu ekleme - Sağ tıklayarak açılan menü" title="Yeni sunucu seçimi"/> <figcaption><strong>Apache</strong> klasörü altında Tomcat 8 seçeneğinini seçiyoruz</figcaption> </figure><p><br/></p><figure> <img src="/tutorials/javaee/img/ornekServlet/yeniSunucu.png" alt="Eclipse'te yeni sunucu ekleme - Sunucunun yerini belirleme" title="Yeni sunucunun yerini belirleme"/> <figcaption>İndirdiğimiz Tomcat 8'i hangi klasör altına attıysak o klasörün yolunu (path) <em>Browse</em> düğmesine basarak veriyoruz.</figcaption> </figure><p><br/></p><figure> <img src="/tutorials/javaee/img/ornekServlet/sunucuTabindaYeniSunucu.png" alt="Eclipse'te yeni sunucu ekleme - Sunucu tabında yeni sunucu görünür" title="Sunucu tabında yeni sunucu görünür"/> <figcaption>Sunucular (Servers) tabında yeni sunucuyu görebiliriz.</figcaption> </figure><p><br/></p><hr/><h2 id="Bir Servlet Uygulaması Örneği">Bir Servlet Uygulaması Örneği</h2><p>Artık yeni bir proje oluşturarak ilk servletimizi yazmaya hazırız.</p><h3 id="Eclipse'te Web Projesi Oluşturma">Eclipse'te Web Projesi Oluşturma</h3><figure> <img src="/tutorials/javaee/img/ornekServlet/servletOrnegi-sag-tiklayarak-yeni-proje-ekleme.png" alt="Eclipse'te yeni proje ekleme - Sağ tıklayarak açılan menü" title="Sağ tıklayarak açılan menü"/> <figcaption>Menüden Dynamic Web Project seçeneğini seçiyoruz</figcaption> </figure><p><br/></p><figure> <img src="/tutorials/javaee/img/ornekServlet/servletOrnegi-yeni-proje-ozellikleri.png" alt="Eclipse'te yeni proje ekleme - Proje özelliklerini belirleme" title="Proje özelliklerini belirleme"/> <figcaption>Projenin adını yazarak Finish düğmesine basıyoruz. Diğer seçenekler ön tanımlı olarak geliyor.</figcaption> </figure><p><br/></p><figure> <img src="/tutorials/javaee/img/ornekServlet/servletOrnegi-projenin-ilk-yapisi.png" alt="Eclipse'te yeni proje ekleme - Projenin ilk yapısı" title="Projenin ilk yapısı"/> <figcaption>İlk oluşan proje böyle görünecek, henüz hiç kod yazmadık.</figcaption> </figure><p><br/></p><h3 id="Eclipse'te Paket Oluşturma">Eclipse'te Paket Oluşturma</h3><p>Herhangi bir sınıf yaratmadan önce bir paket yaratmalıyız. Paket oluşturmak her zaman uyulması gereken bir standarttır, bunu isteğe bağlı olarak düşünmeyin!</p><p><code>src</code> klasörünün altına bir paket oluşturalım.</p><p>Bunu <code>src</code> klasörüne sağ tıklayıp <code>New</code> seçeneğini seçerek veya <code>src</code> klasörünü seçip <code>CTRL+N</code> tuşlarına basarak yapabilirsiniz.</p><figure> <img style="width:49%" src="/tutorials/javaee/img/ornekServlet/servletOrnegi-yeni-paket-olusturma.png" alt="Eclipse'te yeni proje ekleme - Yeni paket oluşturma" title="Yeni paket oluşturma"/> <img style="width:49%" src="/tutorials/javaee/img/ornekServlet/servletOrnegi-paketi-adlandirma.png" alt="Eclipse'te yeni proje ekleme - Paketi adlandırma" title="Paketi adlandırma"/> <figcaption>Paket adını "com.dorukdestan.tutorials.helloworld" olarak giriyoruz.</figcaption> </figure><p><br/></p><h3 id="Servlet Sınıfı Yazımı">Servlet Sınıfı Yazımı</h3><p><code>com.dorukdestan.tutorials.helloworld</code> paketinin altına <code>HelloWorldServlet</code> adında bir sınıf yaratalım.</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">dorukdestan</span><span class="o">.</span><span class="na">tutorials</span><span class="o">.</span><span class="na">helloworld</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.PrintWriter</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.ServletException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServlet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloWorldServlet</span> <span class="kd">extends</span> <span class="n">HttpServlet</span><span class="o">{</span>

  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="mi">1L</span><span class="o">;</span>

  <span class="nd">@Override</span>
  <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">doGet</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span>
      <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>

    <span class="n">PrintWriter</span> <span class="n">writer</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="na">getWriter</span><span class="o">();</span>
    <span class="n">writer</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"Merhaba dünya!"</span><span class="o">);</span>
  <span class="o">}</span>

<span class="o">}</span></code></pre></div><h3 id="Sunucuya Servleti Tanıtma Yolu: web.xml veya Anotasyon">Sunucuya Servleti Tanıtma Yolu: `web.xml` veya Anotasyon</h3><p>Projede kullanılan servletleri ve bu servletlere hangi urller üzerinden erişileceğini tanımlamak gereklidir. Bu tanımları yapmak için <code>web.xml</code> adında bir xml dosyası kullanabilir veya Servlet sınıflarının üstünde anotasyon kullanabiliriz.</p><p>Bu yazıda iki örneği de göreceğiz.</p><h4 id="web.xml Kullanımı">web.xml Kullanımı</h4><p>Projedeki <code>Deployment Descriptor: MerhabaDunya</code> öğesine sağ tıklayıp <code>Generate Deployment Descriptor Stub</code> seçeneğini seçerseniz Eclipse sizin için <code>WebContent/WEB-INF</code> klasörü altında bir <code>web.xml</code> dosyası oluştur.</p><figure> <img src="/tutorials/javaee/img/ornekServlet/servletOrnegi-sonradan-otomatik-web-xml-olusturtma.png" alt="Eclipse'te yeni proje ekleme - Otomatik web.xml oluşturtma" title="Otomatik web.xml oluşturtma"/> <figcaption>web.xml dosyasının şablonunu otomatik olarak Eclipse oluşturtabiliriz.</figcaption> </figure><p><br/></p><section class="hint" title="ipucu"> web.xml dosyasını, projeyi **ilk oluştururken** açılan pencerede, proje adını girdikten sonra "Finish" düğmesi yerine "Next" düğmesine basarak ilerleyip de oluşturabilirsiniz.<figure> <img src="/tutorials/javaee/img/ornekServlet/servletOrnegi-baslangicta-web-xml-olusturtma.png" alt="Eclipse'te yeni proje ekleme - Başlangıçta otomatik web.xml oluşturtma" title="Başlangıçta otomatik web.xml oluşturtma"/> <figcaption>web.xml dosyasının şablonunu otomatik olarak Eclipse oluşturtabiliriz.</figcaption> </figure> </section><p><br/></p><p>Otomatik oluşturulan <code>web.xml</code> dosyasına servlet tanımı ve servlet mappingi ekleyelim. Dosyanın son hali şöyle olacak:</p><div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;web-app</span> <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
  <span class="na">xmlns=</span><span class="s">"http://xmlns.jcp.org/xml/ns/javaee"</span>
  <span class="na">xsi:schemaLocation=</span><span class="s">"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"</span>
  <span class="na">version=</span><span class="s">"3.1"</span><span class="nt">&gt;</span>

  <span class="nt">&lt;display-name&gt;</span>MerhabaDunya<span class="nt">&lt;/display-name&gt;</span>

  <span class="c">&lt;!-- Servlet tanimi --&gt;</span>
  <span class="nt">&lt;servlet&gt;</span>
    <span class="nt">&lt;servlet-name&gt;</span>MyFirstServlet<span class="nt">&lt;/servlet-name&gt;</span>
    <span class="nt">&lt;servlet-class&gt;</span>com.dorukdestan.tutorials.helloworld.HelloWorldServlet<span class="nt">&lt;/servlet-class&gt;</span>
  <span class="nt">&lt;/servlet&gt;</span>

  <span class="c">&lt;!-- Servlet mapping. Bu servlete hangi url uzerinden erisilebilecegini tanimlar. --&gt;</span>
  <span class="nt">&lt;servlet-mapping&gt;</span>
    <span class="nt">&lt;servlet-name&gt;</span>MyFirstServlet<span class="nt">&lt;/servlet-name&gt;</span>
    <span class="nt">&lt;url-pattern&gt;</span>/selam<span class="nt">&lt;/url-pattern&gt;</span>
  <span class="nt">&lt;/servlet-mapping&gt;</span>

  <span class="nt">&lt;welcome-file-list&gt;</span>
    <span class="nt">&lt;welcome-file&gt;</span>index.html<span class="nt">&lt;/welcome-file&gt;</span>
    <span class="nt">&lt;welcome-file&gt;</span>index.htm<span class="nt">&lt;/welcome-file&gt;</span>
    <span class="nt">&lt;welcome-file&gt;</span>index.jsp<span class="nt">&lt;/welcome-file&gt;</span>
    <span class="nt">&lt;welcome-file&gt;</span>default.html<span class="nt">&lt;/welcome-file&gt;</span>
    <span class="nt">&lt;welcome-file&gt;</span>default.htm<span class="nt">&lt;/welcome-file&gt;</span>
    <span class="nt">&lt;welcome-file&gt;</span>default.jsp<span class="nt">&lt;/welcome-file&gt;</span>
  <span class="nt">&lt;/welcome-file-list&gt;</span>
<span class="nt">&lt;/web-app&gt;</span></code></pre></div><p><br/></p><h4 id="Anotasyon Kullanımı">Anotasyon Kullanımı</h4><p>Servlet 3.0 spesifikasyonundan itibaren web.xml kullanmak yerine servlet tanımlarını anotasyonlarla yapabiliyoruz.</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">dorukdestan</span><span class="o">.</span><span class="na">tutorials</span><span class="o">.</span><span class="na">helloworld</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.PrintWriter</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.servlet.ServletException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.annotation.WebServlet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServlet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="nd">@WebServlet</span><span class="o">(</span><span class="s">"/selam"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloWorldServlet</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="o">{</span>

  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">long</span> <span class="n">serialVersionUID</span> <span class="o">=</span> <span class="mi">1L</span><span class="o">;</span>

  <span class="nd">@Override</span>
  <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">doGet</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">req</span><span class="o">,</span> <span class="n">HttpServletResponse</span> <span class="n">resp</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>

    <span class="n">PrintWriter</span> <span class="n">writer</span> <span class="o">=</span> <span class="n">resp</span><span class="o">.</span><span class="na">getWriter</span><span class="o">();</span>
    <span class="n">writer</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"Merhaba dünya!"</span><span class="o">);</span>
  <span class="o">}</span>

<span class="o">}</span></code></pre></div><p><span style="color:#008000;font-weight:bold">@WebServlet</span><span style="color:blue;font-weight:bold">(“/selam”)</span></p><p>Yukarıdaki yeşil bölüm servlet tanımı, mavi bölüm ise servlet url mapping tanımıdır. Url mapping bu servlete hangi urlden yapılan isteklerin ulaşacağını belirler.</p><section class="hint" title="ipucu"><p><code>@WebServlet("/selam")</code> kullanımı aslında <code>@WebServlet(urlPatterns = { "/selam" })</code> kullanımının kısayoludur.</p><p>Tek bir servlet için `@WebServlet(urlPatterns = { "/selam", "/naber", "/salute" })` biçiminde birden çok URL de tanımlayabilirsiniz.</p> </section><section class="warn"> Anotasyon kullandığınız zaman, web.xml dosyasını tamamen silebilirsiniz. Uygulamanız sorunsuz çalışır. Ancak anotasyon ile yapamadığımız bazı ayarlar vardır (welcome-files-list, session-timeout gibi). Bu ayarları vermek için web.xml dosyasını anotasyon kullandığımız uygulamalarda da kullanırız. </section><section class="error"> Anotasyon ve web.xml dosyasını birlikte kullanıyorsanız, web.xml dosyasından servlet tanımlarını ve mappingleri sildiğinizden emin olun! </section><p><br/></p><h3 id="Projenin Son Görünümü">Projenin Son Görünümü</h3><p>Proje son durumda şöyle görünüyor:</p><figure> <img src="/tutorials/javaee/img/ornekServlet/servletOrnegi-projenin-calisan-durumda-gorunumu.png" alt="Eclipse'te yeni proje ekleme - Projenin çalışan durumunda dosya ve klasör yapısı" title="Projenin çalışan durumunda dosya ve klasör yapısı"/> <figcaption>Projenin çalışan durumunda dosya ve klasör yapısı.</figcaption> </figure><p><br/></p><h2 id="Uygulamayı Çalıştırma">Uygulamayı Çalıştırma</h2><p>Projeye sağ tıklayarak açılan menüden uygulamamızı Tomcat’e deploy ederek çalıştırabiliriz.</p><figure> <img src="/tutorials/javaee/img/ornekServlet/servletOrnegi-uygulamayi-calistirma.png" alt="Eclipse'te yeni proje ekleme - Eclipse web uygulaması çalıştırma" title="Eclipse web uygulaması çalıştırma"/> <figcaption>Eclipse üzerinden web uygulaması çalıştırma.</figcaption> </figure><p><br/></p><figure> <img src="/tutorials/javaee/img/ornekServlet/servletOrnegi-sunucuyu-secme.png" alt="Eclipse'te yeni proje ekleme - Uygulamanın üzerinde çalışacağı sunucuyu seçme" title="Uygulamanın üzerinde çalışacağı sunucuyu seçme"/> <figcaption>Mavi kutucuğu işaretlerseniz bir daha sunucu seçimi için size sormadan Tomcat'e deploy eder.</figcaption> </figure><p><br/></p><h3 id="Merhaba Dünya">Merhaba Dünya</h3><p><a href="http://localhost:8080/MerhabaDunya/selam" target="_blank" rel="nofollow">http://localhost:8080/MerhabaDunya/selam</a> adresini ziyaret ederseniz Java servlet kullanarak dünyaya merhaba dediğinizi görebilirsiniz.</p><section class="warn" title="uyarı"> Uygulamayı ilk çalıştırdığınızda Eclipse'in otomatik olarak gösterdiği tarayıcıda 404 hatası alacaksınız. Çünkü Eclipse <code>http://localhost:8080/MerhabaDunya</code> adresini açar. Bu adres bizim uygulamamız için <code>base</code> adrestir. Yani <code>/</code> URLsine denk gelir. Oysa biz web.xml dosyasında sadece <code>/selam</code> URLsi için bir mapping tanımladık. Bu nedenle uygulamamız <code>/</code> URLsi için ne yapacağını bilmez ve hata verir. </section><p><br/></p><h2 id="Neler Oldu? Yapılanların İncelemesi">Neler Oldu? Yapılanların İncelemesi</h2><p>Önce uygulamaya eriştiğimiz adresi inceleyelim:</p><p style="font-weight:bold;color:#999"> http://<span style="color:#000">localhost</span>:<span style="color:#00B800">8080</span>/<span style="color:blue">MerhabaDunya</span>/<span style="color:#FF00EB">selam</span></p><p><span style="font-weight:bold;color:#000">Domain</span>: Sunucunun çalıştığı bilgisayarın adresidir. <br/> <span style="font-weight:bold;color:#00B800">Port</span>: Tomcat varsayılan olarak 8080 portundan çalışır. Bunu Tomcat yapılandırmasından veya Eclipse üzerinden değiştirebilirsiniz. <br/> <span style="font-weight:bold;color:blue">Context Root</span>: Sunucu üzerinde birden çok uygulama çalışabilir. Erişmek istediğiniz uygulamanın context rootunu yazarak isteklerinizi o uygulamaya iletirsiniz. <br/> <span style="font-weight:bold;color:#FF00EB">URL</span>: Bu bölüme yazılan URLler uygulamada tanımlanan mappinglere göre ilgili servetlere yönlendirilir. Eğer bu kısım yazılmazsa URL <code>/</code> olarak girilmiş kabul edilir.</p><p><strong>Adım adım olanlar:</strong></p><ol><li><code>http://localhost:8080/MerhabaDunya/selam</code> adresini tarayıcının adres çubuğuna yazınca tarayıcı bu adrese <strong>HTTP GET</strong> isteği yapar.</li><li>İstek <code>http://localhost:8080</code> adresindeki Tomcat’e ulaşır.</li><li>Sunucu gelen isteğin pembe kısmına bakar. Tanımlı mappingler içinde bu <code>/selam</code> URLsine ilişkilendirilmiş bir servlet arar.</li><li>Tanımlı mappinglere göre <code>/selam</code> URLsi ile <code>HelloWorldServlet</code> servleti ilişkilendirilmiş.</li><li>Sunucu (servlet container) <code>HelloWorldServlet</code> sınıfından bir nesne yaratır.</li><li>Gelen istek bir GET isteği olduğu için <code>HelloWorldServlet</code> nesnesinin <code>doGet</code> methodu çağırılır.</li><li>Bizim yazdığımız kodlar <code>doGet</code> methodu içinde <code>response</code> nesnesini değiştirir.</li><li>Sunucu <code>response</code> nesnesini HTMLe çevirir ve kullanıcının tarayıcısına geri yollar.</li></ol><h2 id="kaynak-kodlar-ndirin">Kaynak Kodları İndirin</h2><p>Yazıdaki tüm örnekleri içeren Eclipse projesini indirin.</p><ul><li><a href="https://github.com/JavaOrnekleri/OrnekServlet/archive/master.zip" target="_blank" rel="nofollow"> ▼ .zip olarak indir (Anotasyon kullanan sürüm)</a></li><li><a href="https://github.com/JavaOrnekleri/OrnekServlet/archive/web-xml.zip" target="_blank" rel="nofollow"> ▼ .zip olarak indir (web.xml kullanan sürüm)</a></li></ul><p>veya</p><p>git kullanarak <code>clone</code>la</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Anotasyon kullanan sürüm</span>
<span class="nv">$ </span>git clone https://github.com/JavaOrnekleri/OrnekServlet.git

<span class="c"># web.xml kullanan sürüm</span>
<span class="nv">$ </span>git clone https://github.com/JavaOrnekleri/OrnekServlet.git --branch web-xml --single-branch</code></pre></div></section><br><a href="/tutorials/">« Tutoriallara geri dön</a><br><br><meta datetime="2014-09-03" value="2014-09-03" itemprop="datePublished"/> <section itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Destan Sarpkaya"/> </section> </article><section class="well"> <span class="tweet-btn"> <a href="https://twitter.com/share" class="twitter-share-button" data-via="dorukdestan" data-count="none" data-dnt="true">Tweet</a> <script>!function(t,e,r){var n,s=t.getElementsByTagName(e)[0],i=/^http:/.test(t.location)?"http":"https";t.getElementById(r)||(n=t.createElement(e),n.id=r,n.src=i+"://platform.twitter.com/widgets.js",s.parentNode.insertBefore(n,s))}(document,"script","twitter-wjs")</script></span> <span> | Tags: javaEE and servlet </span></section><section><div id="disqus_thread"></div> <script>var disqus_shortname="dorukdestan";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments.</a></noscript> <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a> </section></main><div id="levelDesc" class="modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button><h4 class="modal-title">Düzeyler ve Anlamları</h4></div><div class="modal-body"> <style type="text/css">.modal hr{border:1px solid #eee;border-bottom:0}</style><div class="level-indicator" level="1" title="Çok yeniler için"><div></div><div></div><div></div><div></div><div></div></div> Çok yeniler için<p>Java programlaya yeni başlayanlar, Java programlama dili ve OOP konusunda eksikleri olanlara yönelik.</p><hr><div class="level-indicator" level="2" title="Başlangıç düzeyi"><div></div><div></div><div></div><div></div><div></div></div> Başlangıç düzeyi<p>Temel Java ve OOP konularında bilgisi olan, JavaSE ile birkaç uygulama geliştirmiş olanlara yönelik.</p><hr><div class="level-indicator" level="3" title="Orta düzey"><div></div><div></div><div></div><div></div><div></div></div> Orta düzey<p>Özellikle JavaEE konusunda tutorial ve derslerle kendini geliştirmiş, kendi kendine denemeler yapanlara yönelik.</p><hr><div class="level-indicator" level="4" title="İleri düzey"><div></div><div></div><div></div><div></div><div></div></div> İleri düzey<p>JavaSE veya JavaEE ile profesyonel düzeyde uygulama geliştirmiş olanlara yönelik.</p><hr><div class="level-indicator" level="5" title="Uzman düzeyi"><div></div><div></div><div></div><div></div><div></div></div> Uzman düzeyi<p>JavaSE veya JavaEE ile profesyonel düzeyde uygulama geliştirmiş, dilin ve uygulama çatılarının çalışma prensiplerini derinlemesine bilen, merak edenlere yönelik.</p><hr><div class="level-indicator" level="0" title="Herkes için"><div></div><div></div><div></div><div></div><div></div></div> Herkes için</div><div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">Kapat</button></div></div></div></div></div><footer class="container"><div>© <a href="http://plus.google.com/+DestanSarpkaya?rel=author">Doruk Destan Sarpkaya</a> 2016</div><div id="buildVersion">build:72abdcc@2016-04-01 14:51:17 +0300</div><div id="poweredBy" class="hidden-xs">Powered by <a href="https://github.com/kodgemisi/jekyll-template" target="_blank" rel="nofollow">Jekyll Template</a></div> </footer><script src="http://www.dorukdestan.com/assets/application-d3edaaae63c822fa285d2d0f6a320350.js"></script></body></html>