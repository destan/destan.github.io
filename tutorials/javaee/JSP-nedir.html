<!DOCTYPE html><html lang="tr"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>JSP Nedir? | JSP Tutorial</title><meta name="viewport" content="width=device-width"><meta name="description" content="Bu yazıda JSP teknolojisinin ne olduğunu anlatıp basit örnekler ile JSPyi pratikte gördük. JSP sayfalarında kullanılan elemanları, JSP sayfalarının sunucuda nasıl işlendiğini ayrıntılı olarak ele aldık."><meta http-equiv="Content-Language" content="tr"><link rel="canonical" href="http://www.dorukdestan.com/tutorials/javaee/JSP-nedir.html"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?1=18"><link rel="stylesheet" href="http://www.dorukdestan.com/assets/application-dba82b3c085de425004ce7a39e2d9dca.css"><link rel="stylesheet" href="http://www.dorukdestan.com/assets/tutorial-1b3d0c7c94297bfb8ec54f7d141335e9.css"> <script>var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-29182671-1"]),_gaq.push(["_setDomainName","dorukdestan.com"]),_gaq.push(["_trackPageview"]),function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script></head><body><div id="footerPusher"><header class="container"><div id="siteOwner" itemprop="author" itemscope itemtype="http://schema.org/Person"> <a href="/" itemprop="name">Destan Sarpkaya</a> <span class="slogan">of life, production and consumption</span><meta itemprop="additionalName" content="dorukdestan"/></div><nav class="navbar navbar-default hidden-xs" role="navigation"><div class=""><div class="navbar-header"> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=""> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button></div><div class="collapse navbar-collapse" id="theMenu"><ul class="nav navbar-nav"><li class="home"> <a href="/">About</a></li><li class="blog"> <a href="/blog/">Blog</a></li><li class="tutorials active"> <a href="/tutorials/">Tutorials</a></li><li class="talks"> <a href="/talks/">Talks</a></li><li class="projects"> <a href="/projects/">Projects</a></li></ul><ul class="nav navbar-nav social-icons"><li><a href="https://twitter.com/dorukdestan" rel="nofollow" target="_blank"><i class="social-icons icon-twitter"></i></a></li><li><a href="https://github.com/destan" rel="nofollow" target="_blank"><i class="social-icons icon-github"></i></a></li><li><a href="http://www.linkedin.com/in/dorukdestan" rel="nofollow" target="_blank"><i class="social-icons icon-linkedin"></i></a></li><li><a href="https://plus.google.com/+DestanSarpkaya" rel="nofollow" target="_blank"><i class="social-icons icon-gplus"></i></a></li></ul></div></div> </nav><div id="mobileMenuTrigger" class="visible-xs"> <i class="icon-menu"></i></div><nav id="touchMenu" class="kg-touch-menu"><ul><li><a href="/">About</a></li><li><a href="/blog/">Blog</a></li><li><a href="/talks/">Talks</a></li><li id="projectsMobileMenu"> <a href="/projects/">Projects</a><ul><li><a href="/projects#cevirgec">Çevirgeç</a></li><li><a href="/projects#search-for-all">Search For All</a></li><li><a href="/projects#search-for-all">Mobile Menu</a></li><li><a href="/projects">All Projects</a></li></ul></li><li><a href="https://plus.google.com/+DestanSarpkaya" rel="nofollow" target="_blank"><i class="icon-gplus"></i></a></li><li><a href="https://github.com/destan" rel="nofollow" target="_blank"><i class="icon-github"></i></a></li><li><a href="http://www.linkedin.com/in/dorukdestan" rel="nofollow" target="_blank"><i class="icon-linkedin"></i></a></li><li><a href="https://twitter.com/dorukdestan" rel="nofollow" target="_blank"><i class="icon-twitter"></i></a></li></ul> <button class="kg-close">↶ <span class="kg-back-text">Back</span></button> </nav><div id="quoteContainer"></div></header><main class="container"><section id="metabox" class="well"><div class="row"><div class="col-xs-6"><div><div class="level-indicator" level="2" title="Başlangıç düzeyi"><div></div><div></div><div></div><div></div><div></div></div> Başlangıç düzeyi <a href="#" data-toggle="modal" data-target="#levelDesc">(?)</a></div><div><i class="icon-section"></i> <span class="">Bölüm: </span>Java EE</div><div><i class="icon-clock"></i> <span class="">Okuma süresi: </span>20min</div><div><i class="icon-cc-by"></i> <span class="">Yazar: </span>Destan Sarpkaya</div></div><div class="col-xs-6"><div><i class="icon-calendar"></i> <span class="">Oluşturulma: </span>2014-09-16</div><div><i class="icon-calendar"><sub style="margin-left:-4px">2</sub></i> <span class="">Son güncellenme: </span>2014-09-16</div><div><i class="icon-revision"></i> <span class="">Sürüm: </span>v1</div><div> <i class="icon-cc"></i> Lisans: <a rel="license" title="Creative Commons License Attribution-ShareAlike 4.0 International" href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank"><img alt="Creative Commons License Attribution-ShareAlike 4.0 International" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/4.0/80x15.png"/></a></div></div></div> </section> <article itemscope itemtype="http://schema.org/Article"><h1 itemprop="name">JSP Nedir? | JSP Tutorial</h1> <section itemprop="articleBody"><p>Bu yazıda JSP teknolojisinin ne olduğunu anlatıp basit örnekler ile JSPyi uygulamada göreceğiz. Bu yazıya başlamadan önce <a href="/tutorials/javaee/ornek-servlet.html">Örnek Servlet</a> yazısını okumalısınız.</p><nav class="well"> <header>İçindekiler</header><ol><li><a href="#JSP Nedir?">JSP Nedir?</a></li><li><a href="#Bir JSP Örneği">Bir JSP Örneği</a><ol><li><a href="#Dinamik JSP Sayfası">Dinamik JSP Sayfası</a></li></ol></li><li><a href="#JSP Nasıl Çalışır?">JSP Nasıl Çalışır?</a><ol><li><a href="#JSP Sayfalarının Servlet'e Dönüştürülmesi">JSP Sayfalarının Servlet’e Dönüştürülmesi</a></li></ol></li><li><a href="#JSP Elemanları">JSP Elemanları</a><ol><li><a href="#Directive">Directive</a></li><li><a href="#Scriptlet">Scriptlet</a></li><li><a href="#Action Tag">Action Tag</a></li><li><a href="#Expressions">Expressions</a></li><li><a href="#Declaration">Declaration</a></li><li><a href="#JSP Sayfasındaki Öntanımlı Nesneler">JSP Sayfasındaki Öntanımlı Nesneler</a></li></ol></li><li><a href="#Expression language(EL) in JSP">Expression language(EL) in JSP</a></li><li><a href="#Kaynak Kodları İndirin">Kaynak Kodları İndirin</a></li></ol></nav><h2 id="JSP Nedir?">JSP Nedir?</h2><p>JSPnin açılımı <em>Java Server Pages</em>‘dir. JSP teknolojisi, hem durağan (statik) hem de dinamik parçaları olan web içeriğini kolayca yaratmanızı sağlar. JSP, Servlet teknolojisinin tüm özelliklerini barındırırken aynı zamanda web içeriği yaratmanın daha doğal ve kolay yolunu sunar.</p><p>JSP teknolojisinin temel özellikleri şunlardır:</p><ul><li>JSP sayfaları yaratmak için bir dil sunar. JSP sayfaları text tabanlı, HTML benzeri sayfalardır. Durağan (statik) veya dinamik web sayfaları oluşturmayı kolaylaştırır.</li><li>Sunucu tarafındaki nesnelere erişmek için bir <code>expression language</code> sunar.</li><li>JSPye kendi özelliklerinizi eklemeniz için yollar sunar (örneğin custom tags)</li></ul><h2 id="Bir JSP Örneği">Bir JSP Örneği</h2><p>Bir JSP sayfası yazmak için, servletlerde olduğu gibi, önce bir <em>Dynamic Web Project</em> oluşturmalıyız. Yeni bir proje oluşturmak yerine <a href="/tutorials/javaee/ornek-servlet.html">bir önceki yazıda</a> oluşturduğumuz projeyi kullanalım.</p><p>Projedeki <code>WEBContent</code> klasörü içinde <code>merhaba.jsp</code> adlı bir dosya oluşturacağız. Bunun için <code>WEBContent</code> klasörüne sağ tıklayıp <code>New -&gt; JSP File</code> seçeneğini seçelim.</p><figure> <img src="/tutorials/javaee/img/jspNedir/yeniJspDosyasiOlusturma.png" alt="Yeni JSP dosyası oluşturma" title="Yeni JSP dosyası oluşturma"/> <figcaption>Eclipse bizim için bir JPS şablonundan kullanıma hazır bir dosya yaratır</figcaption> </figure><p>Oluşan dosya içeriği aşağıdaki gibi olacaktır:</p><div class="highlight"><pre><code class="language-jsp" data-lang="jsp"><span class="k">&lt;%@</span> <span class="n">page</span> <span class="n">language</span><span class="o">=</span><span class="s">"java"</span> <span class="n">contentType</span><span class="o">=</span><span class="s">"text/html; charset=UTF-8"</span> <span class="n">pageEncoding</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="k">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>Insert title here<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></div><p><code>body</code> tagleri arasına <em>Merhaba dünya</em> yazabiliriz. <code>merhaba.jsp</code> dosyasını aşağıdaki gibi olacak biçimde güncelleyelim:</p><div class="highlight"><pre><code class="language-jsp" data-lang="jsp"><span class="k">&lt;%@</span> <span class="n">page</span> <span class="n">language</span><span class="o">=</span><span class="s">"java"</span> <span class="n">contentType</span><span class="o">=</span><span class="s">"text/html; charset=UTF-8"</span> <span class="n">pageEncoding</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="k">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;title&gt;</span>Bir JSP Sayfasından Merhaba Dünya<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>

  Merhaba Dünya

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></div><p>Dikkat ederseniz şablondaki <code>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</code> doctype tanımını <code>&lt;!DOCTYPE html&gt;</code> ile değiştirdik. Böylece tarayıcılara sayfamızın HTML5 kullandığını söylemiş oluruz. Örneklerde bazen sadelik için doctype tanımı hiç konmayabilir de, pratikte tarayıcılar için bu bir fark yaratmaz.</p><p>Daha sonra uygulamayı çalıştıralım. Bunun için proje adına sağ tıklayıp <code>Run as -&gt; Run on server</code> seçeneğini seçeriz.</p><p><a href="http://localhost:8080/MerhabaDunya/merhaba.jsp" target="_blank" rel="nofollow">http://localhost:8080/MerhabaDunya/merhaba.jsp</a> adresini açtığınızda sayfanın çıktısını görebilirsiniz.</p><h3 id="Dinamik JSP Sayfası">Dinamik JSP Sayfası</h3><p>Şimdiye kadar yaptığımız sayfalar (bir önceki örnekteki servlet ve şimdiki JSP) durağan sayfalardı. Yani kullanıcı her istek yaptığında aynı içerik ile karşılaşıyordu. Artık sayfalarımıza biraz dinamiklik katalım, yani her açıldığında aynı içeriği göstermesin. Bunun ilk akla gelen örneği kullanıcıya saati gösteren bir web sayfasıdır.</p><p>Bunun için <code>WEBContent</code> klasörü içinde <code>saatKac.jsp</code> adlı bir dosya oluşturacağız. Eclipse’in eklediği JSP şablonunu aşağıdaki gibi güncelleyin:</p><div class="highlight"><pre><code class="language-jsp" data-lang="jsp"><span class="k">&lt;%@</span> <span class="n">page</span> <span class="n">language</span><span class="o">=</span><span class="s">"java"</span> <span class="n">contentType</span><span class="o">=</span><span class="s">"text/html; charset=UTF-8"</span> <span class="n">pageEncoding</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">page</span> <span class="n">import</span><span class="o">=</span><span class="s">"java.time.LocalTime"</span> <span class="k">%&gt;</span>

<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;title&gt;</span>Saat Kaç?<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>

  <span class="nt">&lt;h1&gt;</span>JSP Örneği<span class="nt">&lt;/h1&gt;</span>

  Saat :<span class="k">&lt;%=</span> <span class="n">LocalTime</span><span class="o">.</span><span class="na">now</span><span class="o">()</span> <span class="k">%&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></div><p>Burada <code>&lt;%@ page import="java.time.LocalTime" %&gt;</code> satırı dikkatinizi çekmeli. Bu bir <code>Include directive</code>. Java sınıflarında olduğu gibi kullandığımız kütüphaneleri <em>include</em> etmeye yarar. Direktifleri birazdan daha ayrıntılı inceleyeceğiz.</p><p><a href="http://localhost:8080/MerhabaDunya/saatKac.jsp" target="_blank" rel="nofollow">http://localhost:8080/MerhabaDunya/saatKac.jsp</a> adresini açınca sunucuzunun saatini görebilirsiniz. Sayfayı her yenilediğinizde saatin (en azından saniyenin) değiştiğini göreceksiniz. Çünkü her istekte HTML sayfası yeniden oluşturuluyor ve JSP sayfanızdaki Java kodları yeniden çalıştırılıyor.</p><hr/><h2 id="JSP Nasıl Çalışır?">JSP Nasıl Çalışır?</h2><p>JSP sayfaları aslında birer <code>Servlet</code>tir. Detaylandırmak gerekirse, JSP sayfaları sunucu tarafından önce bir Servlet sınıfına dönüştürülür (Translation) ve daha sonra derlenir (Compilation).</p><p>Bir request bir JSP sayfasına iletildiği zaman (url mapping olunca), sunucu önce ilgili JSPnin servlet sınıfı ile JSP sayfasının kendisini karşılaştırır. Eğer JSP sayfası daha yeniyse veya ilgili JSP için henüz bir Servlet oluşturulmamışsa JSPyi yeniden Servlete dönüştürür ve derler. Daha sonra gelen requesti bu Servlet sınıfına iletir. Bundan sonraki aşamalar önceden gördüğümüz Servletlerle aynıdır.</p><h3 id="JSP Sayfalarının Servlet'e Dönüştürülmesi">JSP Sayfalarının Servlet'e Dönüştürülmesi</h3><p>Eclipse’in kullandığı workspace klasörü <code>workspace</code> olsun. O zaman otomatik oluşturulan Servletleri</p><p><code>workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/work/Catalina/localhost/MerhabaDunya/org/apache/jsp</code></p><p>altında bulabilirsiniz. <em>(Sizin için <code>tmp0</code> klasörü farklı adlarda olabilir. <code>tmp1</code>, <code>tmp2</code> gibi…)</em></p><figure> <img src="/tutorials/javaee/img/jspNedir/otomatikOlusturulanJsp.png" alt="JSP sayfaları Servlet sınıflarına dönüştürülür ve sonra derlenir" title="JSP sayfaları Servlet sınıflarına dönüştürülür ve sonra derlenir"/> <figcaption>JSP sayfaları Servlet sınıflarına dönüştürülür ve sonra derlenir</figcaption> </figure><p><br/></p><p>Örneğin <code>saatKac.jsp</code> dosyasının Servlet’e dönüştürülmüş hali, yani <code>saatKac_jsp.java</code> dosyası şöyledir:</p><p><br/></p><div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">saatKac_jsp</span> <span class="kd">extends</span> <span class="n">org</span><span class="o">.</span><span class="na">apache</span><span class="o">.</span><span class="na">jasper</span><span class="o">.</span><span class="na">runtime</span><span class="o">.</span><span class="na">HttpJspBase</span>
    <span class="kd">implements</span> <span class="n">org</span><span class="o">.</span><span class="na">apache</span><span class="o">.</span><span class="na">jasper</span><span class="o">.</span><span class="na">runtime</span><span class="o">.</span><span class="na">JspSourceDependent</span> <span class="o">{</span>

  <span class="c1">// ...</span>
  <span class="c1">// sadelik için çıkarıldı</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">_jspService</span><span class="o">(</span><span class="kd">final</span> <span class="n">javax</span><span class="o">.</span><span class="na">servlet</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="kd">final</span> <span class="n">javax</span><span class="o">.</span><span class="na">servlet</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">java</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">IOException</span><span class="o">,</span> <span class="n">javax</span><span class="o">.</span><span class="na">servlet</span><span class="o">.</span><span class="na">ServletException</span> <span class="o">{</span>

    <span class="c1">// ...</span>
    <span class="c1">// sadelik için çıkarıldı</span>

    <span class="k">try</span> <span class="o">{</span>
      <span class="n">response</span><span class="o">.</span><span class="na">setContentType</span><span class="o">(</span><span class="s">"text/html; charset=UTF-8"</span><span class="o">);</span>
      <span class="n">pageContext</span> <span class="o">=</span> <span class="n">_jspxFactory</span><span class="o">.</span><span class="na">getPageContext</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">request</span><span class="o">,</span> <span class="n">response</span><span class="o">,</span>
            <span class="kc">null</span><span class="o">,</span> <span class="kc">true</span><span class="o">,</span> <span class="mi">8192</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
      <span class="n">_jspx_page_context</span> <span class="o">=</span> <span class="n">pageContext</span><span class="o">;</span>
      <span class="n">application</span> <span class="o">=</span> <span class="n">pageContext</span><span class="o">.</span><span class="na">getServletContext</span><span class="o">();</span>
      <span class="n">config</span> <span class="o">=</span> <span class="n">pageContext</span><span class="o">.</span><span class="na">getServletConfig</span><span class="o">();</span>
      <span class="n">session</span> <span class="o">=</span> <span class="n">pageContext</span><span class="o">.</span><span class="na">getSession</span><span class="o">();</span>
      <span class="n">out</span> <span class="o">=</span> <span class="n">pageContext</span><span class="o">.</span><span class="na">getOut</span><span class="o">();</span>
      <span class="n">_jspx_out</span> <span class="o">=</span> <span class="n">out</span><span class="o">;</span>

      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"\n"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"\n"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"\n"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;html&gt;\n"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;head&gt;\n"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;title&gt;Saat Kaç?&lt;/title&gt;\n"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;/head&gt;\n"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;body&gt;\n"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"\n"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"  &lt;h1&gt;JSP Örneği&lt;/h1&gt;\n"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"\n"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"  Saat :"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span> <span class="n">LocalTime</span><span class="o">.</span><span class="na">now</span><span class="o">()</span> <span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"\n"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"  \n"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;/body&gt;\n"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;/html&gt;"</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">java</span><span class="o">.</span><span class="na">lang</span><span class="o">.</span><span class="na">Throwable</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// ...</span>
      <span class="c1">// sadelik için çıkarıldı</span>
    <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
      <span class="n">_jspxFactory</span><span class="o">.</span><span class="na">releasePageContext</span><span class="o">(</span><span class="n">_jspx_page_context</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre></div><p>Otomatik oluşturulan <code>saatKac_jsp</code> sınıfı <code>HttpJspBase</code> sınıfını extend ediyor. <a href="https://tomcat.apache.org/tomcat-8.0-doc/api/org/apache/jasper/runtime/HttpJspBase.html" target="_blank" rel="nofollow">Tomcat 8’in APIsine</a> bakacak olursanız aşağıdaki gibi bir sınıf hiyerarşisi görürsünüz.</p><pre><code>java.lang.Object
  └╴javax.servlet.GenericServlet
      └╴javax.servlet.http.HttpServlet
          └╴org.apache.jasper.runtime.HttpJspBase
</code></pre><p>Otomatik oluşturulan sınıfın extend ettiği <code>HttpJspBase</code> sınıfı da zaten <code>HttpServlet</code>ten extend edilmiş. Yani sonuçta <code>saatKac_jsp</code> sınıfı da bir Servlet.</p><p>Daha sonra sunucu <code>saatKac_jsp.java</code> dosyasını derleyerek <code>saatKac_jsp.class</code> dosyasını oluşturur ve artık bu dosyayı çalıştırır.</p><hr/><h2 id="JSP Elemanları">JSP Elemanları</h2><h3 id="Directive">Directive</h3><table class="table table-striped"><thead><tr><th>Directive</th><th>Açıklama</th></tr></thead><tbody><tr><td>&lt;%@ page … %&gt;</td><td>Sayfaya özgü özellikleri tanımlar. Örneğin bir kütüphane import eder, <code>session</code>a bilgi koyar gibi...</td></tr><tr><td>&lt;%@ include … %&gt;</td><td>Mevcut JSP sayfasına bir başka sayfa eklemeye yarar.</td></tr><tr><td>&lt;%@ taglib … %&gt;</td><td>Sayfada kullanılacak bir tag kütüphanesi tanımlar.</td></tr></tbody></table><h3 id="Scriptlet">Scriptlet</h3><p>JSP içine yazılan Java kodlarıdır. Bir java dosyası içine yazılan herhangi bir Java kodunu yazabilirsiniz. Örneğin <code>ipGoster.jsp</code> sayfası ekleyip içeriğini aşağıdaki gibi değiştirseniz bir scripletin çıktısını görebilirsiniz.</p><div class="highlight"><pre><code class="language-jsp" data-lang="jsp"><span class="k">&lt;%@</span> <span class="n">page</span> <span class="n">language</span><span class="o">=</span><span class="s">"java"</span> <span class="n">contentType</span><span class="o">=</span><span class="s">"text/html; charset=UTF-8"</span> <span class="n">pageEncoding</span><span class="o">=</span><span class="s">"UTF-8"</span><span class="k">%&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html; charset=UTF-8"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;title&gt;</span>IPniz<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="k">&lt;%</span> <span class="n">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"IP adresiniz: "</span> <span class="o">+</span> <span class="n">request</span><span class="o">.</span><span class="na">getRemoteAddr</span><span class="o">());</span> <span class="k">%&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></div><figure> <img src="/tutorials/javaee/img/jspNedir/ipGosterJsp.png" alt="JSP ile kullanıcının IP adresini gösterme" title="JSP ile kullanıcının IP adresini gösterme"/> <figcaption>JSP ile kullanıcının IP adresini gösterme</figcaption> </figure><h3 id="Action Tag">Action Tag</h3><p>JSP sayfasının <code>request processing</code> aşamasındaki davranışını etkilemek için kullanılır. Kullanımı</p><pre><code>&lt;jsp:action_adı attribute="deger" /&gt;
</code></pre><p>biçimindedir. <code>&lt;jsp:include&gt;</code> dışındakileri pek kullanmayacağız.</p><h3 id="Expressions">Expressions</h3><p>İçine yazılan _expression_ı çalıştırıp, çıktısını <code>String</code>e çevirip, ekrana yazan elemanlardır. <code>saatKac.jsp</code> sayfasında da kullanmıştık. <code>LocalTime.now()</code> _expression_ının değerini <code>String</code> olarak ekrana yazdırmıştı.</p><pre><code>&lt;%= LocalTime.now() %&gt;
</code></pre><p>Biçiminde kullanılır.</p><h3 id="Declaration">Declaration</h3><p>JSP sayfasının tamamında geçerli olacak değişken tanımlamayı sağlayan elemanlardır. <code>declarationOrnegi.jsp</code> diye bir JSP sayfasının bodysine şunları yazalım:</p><div class="highlight"><pre><code class="language-jsp" data-lang="jsp"><span class="nt">&lt;body&gt;</span>
  <span class="k">&lt;%!</span> <span class="n">LocalTime</span> <span class="n">time1</span> <span class="o">=</span> <span class="n">LocalTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span> <span class="k">%&gt;</span>
  <span class="k">&lt;%</span> <span class="n">LocalTime</span> <span class="n">time2</span> <span class="o">=</span> <span class="n">LocalTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span> <span class="k">%&gt;</span>

  <span class="nt">&lt;p&gt;</span><span class="k">&lt;%=</span> <span class="s">"Time 1: "</span> <span class="o">+</span> <span class="n">time1</span>   <span class="k">%&gt;</span><span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;p&gt;</span><span class="k">&lt;%=</span> <span class="s">"Time 2: "</span> <span class="o">+</span> <span class="n">time2</span>   <span class="k">%&gt;</span><span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/body&gt;</span></code></pre></div><p><a href="http://localhost:8080/MerhabaDunya/declarationOrnegi.jsp" target="_blank" rel="nofollow">http://localhost:8080/MerhabaDunya/declarationOrnegi.jsp</a> adresini açıp birkaç kez yenilerseniz, <em>Time1</em>in değişmediğini ancak <em>Time2</em>nin her yenilemede değiştiğini göreceksiniz.</p><p>Çünkü scriptlet (<code>&lt;% ... %&gt;</code>) içinde yapılan değişken tanımları oluşturulan servlet sınıfının service methodu içinde tanımlanır, yani yerel değişken olur.</p><p>Ancak declaration (<code>&lt;%! ... %&gt;</code>) içinde yapılan değişken tanımları oluşturulan servlet sınıfının içinde bir field olarak tanımlanır.</p><p>Servletlerden hatırlayacağımız üzere her request handle edilirken service metodu yeniden çağırılır. Ancak JSP sayfasından oluşturulan bir servlet sınıfı JSP değişmedikçe yeniden oluşturulmaz. Aşağıda sunucu tarafından oluşturulan servlet kodunu incelerseniz neler olduğunu daha net göreceksiniz:</p><div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">declarationOrnegi_jsp</span> <span class="kd">extends</span> <span class="n">org</span><span class="o">.</span><span class="na">apache</span><span class="o">.</span><span class="na">jasper</span><span class="o">.</span><span class="na">runtime</span><span class="o">.</span><span class="na">HttpJspBase</span>
    <span class="kd">implements</span> <span class="n">org</span><span class="o">.</span><span class="na">apache</span><span class="o">.</span><span class="na">jasper</span><span class="o">.</span><span class="na">runtime</span><span class="o">.</span><span class="na">JspSourceDependent</span> <span class="o">{</span>

 <span class="n">LocalTime</span> <span class="n">time1</span> <span class="o">=</span> <span class="n">LocalTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>

  <span class="c1">// ... sadelik için çıkarıldı</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">_jspService</span><span class="o">(</span><span class="kd">final</span> <span class="n">javax</span><span class="o">.</span><span class="na">servlet</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="kd">final</span> <span class="n">javax</span><span class="o">.</span><span class="na">servlet</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span>
        <span class="kd">throws</span> <span class="n">java</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">IOException</span><span class="o">,</span> <span class="n">javax</span><span class="o">.</span><span class="na">servlet</span><span class="o">.</span><span class="na">ServletException</span> <span class="o">{</span>

    <span class="k">try</span> <span class="o">{</span>

      <span class="c1">// ... sadelik için çıkarıldı</span>

      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="sc">'\n'</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="sc">' '</span><span class="o">);</span>
 <span class="n">LocalTime</span> <span class="n">time2</span> <span class="o">=</span> <span class="n">LocalTime</span><span class="o">.</span><span class="na">now</span><span class="o">();</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"\n"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"\t\n"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"\t&lt;p&gt;"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span> <span class="s">"Time 1: "</span> <span class="o">+</span> <span class="n">time1</span>   <span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"&lt;/p&gt;\n"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"\t&lt;p&gt;"</span><span class="o">);</span>
      <span class="n">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span> <span class="s">"Time 2: "</span> <span class="o">+</span> <span class="n">time2</span>   <span class="o">);</span>

      <span class="c1">// ... sadelik için çıkarıldı</span></code></pre></div><h3 id="JSP Sayfasındaki Öntanımlı Nesneler">JSP Sayfasındaki Öntanımlı Nesneler</h3><table class="table table-striped"><tbody><tr><th>Nesneler</th><th>Açıklama</th></tr><tr><td>request</td><td>Servletlerde de gördüğümüz <strong>HttpServletRequest</strong> nesnesi.</td></tr><tr><td>response</td><td>Servletlerde de gördüğümüz <strong>HttpServletResponse</strong> nesnesi.</td></tr><tr><td>out</td><td>Doğrudan kullanıcıya yollanan <code>response</code>a yazmaya yarayan <strong>PrintWriter</strong> nesnesi.</td></tr><tr><td>session</td><td>Mevcut <code>request</code> ile ilişkilendirilmiş <strong>HttpSession</strong> nesnesi.</td></tr><tr><td>application</td><td>Mevcut uygulama ile ilişkilendirilmiş <code>application context</code> <strong>ServletContext</strong> nesnesi.</td></tr><tr><td>config</td><td>Mevcut sayfa ile ilişkilendirilmiş <strong>ServletConfig</strong> nesnesi.</td></tr><tr><td>pageContext</td><td>Tüm öntanımlı nesneleri otomatik olarak içerir(request, session vb.).</td></tr><tr><td>page</td><td>JSPnin dönüştürüldüğü Servlet instanceı için <strong>this</strong> keywordüne eşdeğerdir, servletin kendisini belirtir.</td></tr><tr><td>exception</td><td>Exception handling ve hata mesajı göstermek için kullanılan <code>Exception</code> nesnesidir. Bu nesne yalnızca <code>isErrorPage</code> <em>attribute</em>ü true olan JSP sayfalarında bulunur.</td></tr></tbody></table><hr/><h2 id="Expression language(EL) in JSP">Expression language(EL) in JSP</h2><p>JSP sayfalarında öntanımlı nesnelere ve sayfaya request üzerinden eklenen <code>bean</code>lere erişmeyi kolaylaştırmak için kullanılır. Kullanımı şöyledir:</p><pre><code>${expression}
</code></pre><p>Örneğin sırasıyla <code>form.jsp</code> ve <code>display.jsp</code> adında iki dosya oluşturup içeriğini aşağıdaki gibi güncelleyelim.</p><div class="highlight"><pre><code class="language-jsp" data-lang="jsp"><span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"display.jsp"</span><span class="nt">&gt;</span>
    Kullanıcı Adı: <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"username"</span> <span class="nt">/&gt;&lt;br&gt;</span>
    Üniversite: <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"uni"</span> <span class="nt">/&gt;&lt;br&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">value=</span><span class="s">"Yolla"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/form&gt;</span>
<span class="nt">&lt;/body&gt;</span></code></pre></div><div class="highlight"><pre><code class="language-jsp" data-lang="jsp"><span class="nt">&lt;body&gt;</span>
   Kullanıcı Adı ${ param.username } <span class="nt">&lt;br&gt;</span>
   Üniversite ${ param.uni }
<span class="nt">&lt;/body&gt;</span></code></pre></div><hr/><h2 id="Kaynak Kodları İndirin">Kaynak Kodları İndirin</h2><p>Yazıdaki tüm örnekleri içeren Eclipse projesini indirin.</p><p><a href="https://github.com/JavaOrnekleri/JSPNedir/archive/master.zip" target="_blank" rel="nofollow"> ▼ .zip olarak indir</a></p><p>veya</p><p>git kullanarak <code>clone</code>la</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>git clone https://github.com/JavaOrnekleri/JSPNedir.git</code></pre></div></section><br><a href="/tutorials/">« Tutoriallara geri dön</a><br><br><meta datetime="2014-09-16" value="2014-09-16" itemprop="datePublished"/> <section itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Destan Sarpkaya"/> </section> </article><section class="well"> <span class="tweet-btn"> <a href="https://twitter.com/share" class="twitter-share-button" data-via="dorukdestan" data-count="none" data-dnt="true">Tweet</a> <script>!function(t,e,r){var n,s=t.getElementsByTagName(e)[0],i=/^http:/.test(t.location)?"http":"https";t.getElementById(r)||(n=t.createElement(e),n.id=r,n.src=i+"://platform.twitter.com/widgets.js",s.parentNode.insertBefore(n,s))}(document,"script","twitter-wjs")</script></span> <span> | Tags: javaEE, servlet, JSP, and Java Server Pages </span></section><section><div id="disqus_thread"></div> <script>var disqus_shortname="dorukdestan";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments.</a></noscript> <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a> </section></main><div id="levelDesc" class="modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button><h4 class="modal-title">Düzeyler ve Anlamları</h4></div><div class="modal-body"> <style type="text/css">.modal hr{border:1px solid #eee;border-bottom:0}</style><div class="level-indicator" level="1" title="Çok yeniler için"><div></div><div></div><div></div><div></div><div></div></div> Çok yeniler için<p>Java programlaya yeni başlayanlar, Java programlama dili ve OOP konusunda eksikleri olanlara yönelik.</p><hr><div class="level-indicator" level="2" title="Başlangıç düzeyi"><div></div><div></div><div></div><div></div><div></div></div> Başlangıç düzeyi<p>Temel Java ve OOP konularında bilgisi olan, JavaSE ile birkaç uygulama geliştirmiş olanlara yönelik.</p><hr><div class="level-indicator" level="3" title="Orta düzey"><div></div><div></div><div></div><div></div><div></div></div> Orta düzey<p>Özellikle JavaEE konusunda tutorial ve derslerle kendini geliştirmiş, kendi kendine denemeler yapanlara yönelik.</p><hr><div class="level-indicator" level="4" title="İleri düzey"><div></div><div></div><div></div><div></div><div></div></div> İleri düzey<p>JavaSE veya JavaEE ile profesyonel düzeyde uygulama geliştirmiş olanlara yönelik.</p><hr><div class="level-indicator" level="5" title="Uzman düzeyi"><div></div><div></div><div></div><div></div><div></div></div> Uzman düzeyi<p>JavaSE veya JavaEE ile profesyonel düzeyde uygulama geliştirmiş, dilin ve uygulama çatılarının çalışma prensiplerini derinlemesine bilen, merak edenlere yönelik.</p><hr><div class="level-indicator" level="0" title="Herkes için"><div></div><div></div><div></div><div></div><div></div></div> Herkes için</div><div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">Kapat</button></div></div></div></div></div><footer class="container"><div>© <a href="http://plus.google.com/+DestanSarpkaya?rel=author">Doruk Destan Sarpkaya</a> 2016</div><div id="buildVersion">build:0379333@2016-06-08 23:27:20 +0300</div><div id="poweredBy" class="hidden-xs">Powered by <a href="https://github.com/kodgemisi/jekyll-template" target="_blank" rel="nofollow">Jekyll Template</a></div> </footer><script src="http://www.dorukdestan.com/assets/application-d3edaaae63c822fa285d2d0f6a320350.js"></script></body></html>